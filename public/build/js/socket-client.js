class ClienteWebSocketBarbero{constructor(o){this.barberoId=o,this.socket=null,this.conectado=!1,this.audioContext=null,this.mostrarNotificacion=this.mostrarNotificacion.bind(this),this.reproducirSonido=this.reproducirSonido.bind(this),this.mostrarAlerta=this.mostrarAlerta.bind(this),this.inicializar(),this.prepararAudioContext()}prepararAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(o){console.log("ðŸ”‡ Audio no disponible")}}inicializar(){this.socket=io("http://localhost:3001"),this.socket.on("connect",()=>{this.conectado=!0,this.socket.emit("barbero-conectado",this.barberoId)}),this.socket.on("nueva-cita",o=>{this.mostrarNotificacion(o)})}mostrarNotificacion(o){this.mostrarAlerta(o),this.reproducirSonido()}reproducirSonido(){try{const o=new Audio;o.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==",o.volume=.1,o.play().catch(o=>console.log("ðŸ”‡ Audio bloqueado"))}catch(o){console.log("ðŸ”‡ Audio no disponible")}}mostrarAlerta(o){const t=document.createElement("div");t.className="alerta-notificacion exito",t.innerHTML=`\n        <div class="contenido-notificacion">\n            <strong> Nueva Cita</strong>\n            <p>${o.mensaje}</p>\n            <small>${(new Date).toLocaleTimeString()}</small>\n        </div>\n        <div class="botones-notificacion">\n            <button class="recargar-pagina" onclick="location.reload()">â†» Recargar</button>\n        </div>\n    `,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.remove()},9e3)}}if("/barbero"===window.location.pathname){const o=document.querySelector("[data-barbero-id]")?.dataset.barberoId;o&&!window.clienteWebSocket&&(window.clienteWebSocket=new ClienteWebSocketBarbero(o))}