@use "base/variables" as v;
@use "base/mixins" as m;
@use "sass:color";

.formulario{
    width: 100%;
}



.campo{
    display: flex;
    flex-direction: column;
    margin-bottom: 2rem;

    label{
        margin-bottom: 0.5rem;
        font-weight: 600;
    }

    input{
        border: none;
        padding: calc(v.$separacion / 4);
        border-radius: 1rem;
    }


    option{
        background-color: v.$negro;
        color: v.$blanco;
    }

    // Estilos para el select de horas
    select#hora {
        flex: 1;
        width: 100%;
        padding: calc(v.$separacion / 4);
        border: 2px solid #e1e1e1;
        border-radius: 1rem;
        font-size: 1.6rem;
        font-family: 'Arial', sans-serif;
        background-color: v.$blanco;
        color: v.$negro;
        cursor: pointer;
        transition: all 0.3s ease;
        appearance: none;
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right 1.6rem center;
        background-size: 1.6rem;


        // Hover state
        &:hover {
            border-color: v.$azul;
            box-shadow: 0 0.2rem 0.8rem rgba(v.$azul, 0.1);
        }

        // Focus state
        &:focus {
            outline: none;
            border-color: color.adjust(v.$azul, $lightness: -10%);
            box-shadow: 0 0 0 0.3rem rgba(v.$azul, 0.1);
        }

        // Estado cuando está abierto
        &:active {
            border-color: color.adjust(v.$azul, $lightness: -10%);
        }

        // Estado deshabilitado (cuando está cargando)
        &:disabled {
            background-color: #f8f9fa;
            color: #6c757d;
            cursor: not-allowed;
            border-color: #dee2e6;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23adb5bd' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        }


        // Efecto de carga cuando está deshabilitado
        &:disabled {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83'/%3e%3c/svg%3e");
            animation: spin 1.5s linear infinite;
        }
    }

    select#barberoId {
        flex: 1;
        width: 100%;
        padding: calc(v.$separacion / 4);
        border: 2px solid #e1e1e1;
        border-radius: 1rem;
        font-size: 1.6rem;
        font-family: 'Arial', sans-serif;
        background-color: v.$blanco;
        color: v.$negro;
        cursor: pointer;
        transition: all 0.3s ease;
        appearance: none;
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right 1.6rem center;
        background-size: 1.6rem;

        // Hover state
        &:hover {
            border-color: v.$azul;
            box-shadow: 0 0.2rem 0.8rem rgba(v.$azul, 0.1);
        }

        // Focus state
        &:focus {
            outline: none;
            border-color: color.adjust(v.$azul, $lightness: -10%);
            box-shadow: 0 0 0 0.3rem rgba(v.$azul, 0.1);
        }

        // Estado cuando está abierto
        &:active {
            border-color: color.adjust(v.$azul, $lightness: -10%);
        }

        // Estado deshabilitado (cuando está cargando)
        &:disabled {
            background-color: #f8f9fa;
            color: #6c757d;
            cursor: not-allowed;
            border-color: #dee2e6;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23adb5bd' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        }


        // Efecto de carga cuando está deshabilitado
        &:disabled {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83'/%3e%3c/svg%3e");
            animation: spin 1.5s linear infinite;
        }
    }

    select#hora option {
        padding: 1.2rem 1.6rem;
        font-size: 1.5rem;
        background-color: v.$negro;
        color: v.$blanco;
    }

    // Estilo para la opción por defecto
    select#hora option[value=""] {
        color: v.$blanco;
        font-style: italic;
    }


}

.campo-crear{
    @include m.tablet{
        display: grid;
        grid-template-columns: repeat(2, 1fr);

        label{
            padding: 0.6rem;
            flex: 0 0 8rem;
        }

        select#hora {
            width: 100%;
        }
    }
}

.campo-login{
    display: flex;
    align-items: center;
    gap: calc(v.$separacion / 4);
    margin-bottom: 2rem;
    background-color: v.$blanco;
    border-radius: 1rem;
    width: 100%;
    box-sizing: border-box;
    padding: calc(v.$separacion / 4);
    overflow: hidden;

    // estado deshabilitado (contenedor o hijos)
    &:disabled,
    :disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    input{
        flex: 1 1 auto;
        min-width: 0; // importante para evitar overflow en flex
        border: none;
        padding: 0;
        background: transparent;
        border-radius: 0;
    }

    @include m.telefono {
        padding: calc(v.$separacion / 4);
        gap: calc(v.$separacion / 6);

        input{
            font-size: 1.6rem; // evita zoom en iOS si hace falta
        }
    }
}

// Responsive para móviles
@include m.telefono {
    .campo {
        select#hora {
            padding: 1.4rem 1.6rem;
            font-size: 1.6rem; // Previene zoom en iOS
        }
    }
}

